<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Image Crawler</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="css/main.css">

    <script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
    <script src="js/vendor/mustache.min.js"></script>
  </head>
  <body>
      <!--[if lt IE 7]>
          <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
      <![endif]-->

    <!-- Docs master nav -->

    <!-- Docs page layout -->
    <div class="app-header container">
      <h1>Image Crawler</h1>
      <div class="row">
        <form id="form" method="post" action="" role="form">
          <div class="form-group">
            <textarea class="form-control" placeholder="Enter a web address" name="CURLOPT_URL" rows="5"></textarea>
          </div>
          <!-- <div class="form-group">
            <input type="text" class="form-control" placeholder="The container id" name="element_id">
          </div> -->
          <div class="" style="max-width: 150px; margin: 30px auto 20px;">
            <button type="submit" class="btn btn-primary btn-block">Run</button>
          </div>
        </form>
      </div>
    </div>

    <div class="container bg-warning app-container">
      <h3>Socket notification</h3>
      <div id="socket-msg" class="info-block"></div>
      <button type="button" id="reconnect-socket" class="btn btn-warning btn-sm">Reconnect socket</button>
    </div>

    <div class="container bg-info app-container">
      <h3>Tasks in progress</h3>
      <div id="running" class="info-block"></div>
    </div>

    <div class="container bg-success app-container">
      <h3>Tasks completed</h3>
      <div id="completed" class="info-block"></div>
    </div>

    <!-- Footer -->
    <footer>
      <p>&copy; <a href="mailto:nathanquach8x@gmail.com">Nathan Quach</a> 2014</p>
    </footer>

    <script id="template-crawling" type="x-tmpl-mustache">
      <h3 id="page-{{id}}" class="page-item">
        <a href="{{url}}" target="_blank">{{title}}</a>
      </h3>

      <div class="progress">
        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="{{progress}}" aria-valuemin="0" aria-valuemax="100" style="width: {{progress}}%">
          <span class="sr-only">{{progress}}% Complete</span>
        </div>
      </div>

      {{#images}}
        <a id="img-{{id}}" class="img-item img-thumbnail" href="{{url}}" target="_blank">
          <div class="progress">
            <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="{{progress}}" aria-valuemin="0" aria-valuemax="100" style="width: {{progress}}%;">
              {{id}}
            </div>
          </div>
        </a>
      {{/images}}


    </script>

    <script id="template-complete" type="x-tmpl-mustache">
      {{#pages}}
        <p id="page-{{id}}-complete" class="page-item">
          <a href="{{url}}" target="_blank">{{title}}</a> - <span class="timestamp">{{time}}</span>
        </p>
      {{/pages}}
    </script>

    <script src="js/vendor/jquery-1.10.1.min.js"></script>
    <script src="js/vendor/bootstrap.min.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
